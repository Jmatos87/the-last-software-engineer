import type { CardDef } from '../../types';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BACKEND DEV â€” "The Server Sentinel"
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const backendCards: Record<string, CardDef> = {

  // â”€â”€ Starters â”€â”€
  sql_injection: {
    id: 'sql_injection', name: 'SQL Injection', type: 'attack', target: 'enemy', cost: 1, rarity: 'starter',
    class: 'backend',
    description: "Deal 8 damage. '; DROP TABLE enemies;--",
    effects: { damage: 8 },
    upgradedEffects: { damage: 12 },
    upgradedDescription: "Deal 12 damage. '; DROP DATABASE;--",
    icon: 'ğŸ’‰',
  },
  api_response: {
    id: 'api_response', name: 'API Response', type: 'skill', target: 'self', cost: 1, rarity: 'starter',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 5 block. HTTP 200 OK.',
    effects: { block: 5 },
    upgradedEffects: { block: 8 },
    upgradedDescription: 'Gain 8 block.',
    icon: 'ğŸ“¡',
  },
  stack_trace: {
    id: 'stack_trace', name: 'Stack Trace', type: 'skill', target: 'self', cost: 1, rarity: 'starter',
    class: 'backend',
    description: 'Draw 2 cards. Follow the breadcrumbs of your failures.',
    effects: { draw: 2 },
    upgradedEffects: { draw: 3 },
    upgradedDescription: 'Draw 3 cards.',
    icon: 'ğŸ“œ',
  },
  server_log: {
    id: 'server_log', name: 'Server Log', type: 'skill', target: 'self', cost: 1, rarity: 'starter',
    class: 'backend',
    description: 'Gain 4 block. Reduce 3 Stress. tail -f /var/log/feelings.',
    effects: { block: 4, copium: 3 },
    upgradedEffects: { block: 6, copium: 4 },
    upgradedDescription: 'Gain 6 block. Reduce 4 Stress.',
    icon: 'ğŸ“‹',
  },
  ping: {
    id: 'ping', name: 'Ping', type: 'attack', target: 'enemy', cost: 0, rarity: 'starter',
    class: 'backend',
    description: 'Deal 5 damage. ICMP ECHO REQUEST.',
    effects: { damage: 5 },
    upgradedEffects: { damage: 8 },
    upgradedDescription: 'Deal 8 damage.',
    icon: 'ğŸ“¶',
  },

  // â”€â”€ Backend Common â”€â”€
  brute_force_attack: {
    id: 'brute_force_attack', name: 'Brute Force', type: 'attack', target: 'enemy', cost: 2, rarity: 'common',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 12 damage. Gain 1 Confidence (+1 dmg per stack). O(n!) but it works.',
    effects: { damage: 12, applyToSelf: { confidence: 1 } },
    upgradedEffects: { damage: 20, applyToSelf: { confidence: 2 } },
    upgradedDescription: 'Deal 20 damage. Gain 2 Confidence (+1 dmg per stack).',
    icon: 'ğŸ”¨',
  },
  memory_leak: {
    id: 'memory_leak', name: 'Memory Leak', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 9 damage. It just keeps growing.',
    effects: { damage: 9 },
    upgradedEffects: { damage: 22 },
    upgradedDescription: 'Cost 2. Deal 22 damage. Exponential growth.',
    upgradedCost: 2,
    icon: 'ğŸ’¾',
  },
  firewall_rules: {
    id: 'firewall_rules', name: 'Firewall Rules', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 8 block. Gain 1 Counter-Offer (reflect dmg when hit). iptables -A INPUT -j REJECT.',
    effects: { block: 8, applyToSelf: { counterOffer: 1 } },
    upgradedEffects: { block: 11, applyToSelf: { counterOffer: 1 } },
    upgradedDescription: 'Gain 11 block. Gain 1 Counter-Offer (reflect dmg when hit).',
    icon: 'ğŸ”¥',
  },
  tcp_handshake: {
    id: 'tcp_handshake', name: 'TCP Handshake', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 6 block. If you have Counter-Offer, gain 4 more. SYN... SYN-ACK... pain.',
    effects: { block: 6, bonusBlockIfCounterOffer: 4 },
    upgradedEffects: { block: 8, bonusBlockIfCounterOffer: 4 },
    upgradedDescription: 'Gain 8 block. If you have Counter-Offer, gain 4 more.',
    icon: 'ğŸ¤',
  },
  garbage_collection: {
    id: 'garbage_collection', name: 'Garbage Collection', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'query_optimizer',
    description: 'Exhaust a card from hand. Draw 2. free(pain); malloc(hope);',
    effects: { draw: 2, exhaustRandom: 1 },
    upgradedEffects: { draw: 3, exhaustRandom: 1 },
    upgradedDescription: 'Exhaust a card from hand. Draw 3.',
    icon: 'ğŸ—‘ï¸',
  },
  database_migration: {
    id: 'database_migration', name: 'DB Migration', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'query_optimizer', exhaust: true,
    description: 'Gain 6 block. Exhaust. ALTER TABLE life ADD COLUMN hope;',
    effects: { block: 6 },
    upgradedEffects: { block: 10 },
    upgradedDescription: 'Gain 10 block. Exhaust.',
    icon: 'ğŸ”„',
  },
  transfer_learning_backend: {
    id: 'transfer_learning_backend', name: 'Load Test', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 7 damage. Gain 1 Confidence. Stress test the system.',
    effects: { damage: 7, applyToSelf: { confidence: 1 } },
    upgradedEffects: { damage: 10, applyToSelf: { confidence: 1 } },
    upgradedDescription: 'Deal 10 damage. Gain 1 Confidence.',
    icon: 'âš¡',
  },
  // New commons
  buffer_overflow: {
    id: 'buffer_overflow', name: 'Buffer Overflow', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 10 damage. Self-damage 3. Writes past the end of the array. Every. Time.',
    effects: { damage: 10, selfDamage: 3 },
    upgradedEffects: { damage: 14, selfDamage: 3 },
    upgradedDescription: 'Deal 14 damage. Self-damage 3.',
    icon: 'ğŸ’§',
  },
  tcp_timeout: {
    id: 'tcp_timeout', name: 'TCP Timeout', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 5 block. Gain 1 Counter-Offer. SYN... no reply. Classic.',
    effects: { block: 5, applyToSelf: { counterOffer: 1 } },
    upgradedEffects: { block: 8, applyToSelf: { counterOffer: 1 } },
    upgradedDescription: 'Gain 8 block. Gain 1 Counter-Offer.',
    icon: 'â°',
  },
  vacuum_analyze: {
    id: 'vacuum_analyze', name: 'VACUUM ANALYZE', type: 'skill', target: 'self', cost: 0, rarity: 'common',
    class: 'backend', archetype: 'query_optimizer', exhaust: true,
    description: 'Exhaust. Gain 5 block. Draw 2 cards. Reclaiming dead tuples.',
    effects: { block: 5, draw: 2 },
    upgradedEffects: { block: 7, draw: 2 },
    upgradedDescription: 'Exhaust. Gain 7 block. Draw 2.',
    icon: 'ğŸ§¹',
  },
  fork_bomb: {
    id: 'fork_bomb', name: 'Fork Bomb', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 5 damage x2. :(){ :|:& };:',
    effects: { damage: 5, times: 2 },
    upgradedEffects: { damage: 8, times: 2 },
    upgradedDescription: 'Cost 2. Deal 8 damage x2.',
    upgradedCost: 2,
    icon: 'ğŸ’£',
  },
  http_patch: {
    id: 'http_patch', name: 'HTTP PATCH', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 7 block. Heal 3 HP. Partial update. The good kind.',
    effects: { block: 7, heal: 3 },
    upgradedEffects: { block: 9, heal: 4 },
    upgradedDescription: 'Gain 9 block. Heal 4 HP.',
    icon: 'ğŸ©¹',
  },

  // â”€â”€ Backend Rare (was Uncommon) â”€â”€
  kernel_panic: {
    id: 'kernel_panic', name: 'Kernel Panic', type: 'attack', target: 'enemy', cost: 3, rarity: 'rare',
    class: 'backend', archetype: 'brute_force', exhaust: true,
    description: 'Deal 24 damage. Exhaust. The system is YOU.',
    effects: { damage: 24 },
    upgradedEffects: { damage: 32 },
    upgradedDescription: 'Deal 32 damage. Exhaust.',
    upgradedCost: 2,
    icon: 'ğŸ’¥',
  },
  overclock: {
    id: 'overclock', name: 'Overclock', type: 'power', target: 'self', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'brute_force',
    description: 'Gain 2 Confidence (+1 dmg per stack). CPU at 110%. The fans are screaming.',
    effects: { applyToSelf: { confidence: 2 } },
    upgradedEffects: { applyToSelf: { confidence: 3 } },
    upgradedDescription: 'Cost 0. Gain 3 Confidence (+1 dmg per stack).',
    upgradedCost: 0,
    icon: 'âš¡',
  },
  rate_limiter: {
    id: 'rate_limiter', name: 'Rate Limiter', type: 'power', target: 'self', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 3 Counter-Offer (reflect dmg when hit). 429 Too Many Requests.',
    effects: { applyToSelf: { counterOffer: 3 } },
    upgradedEffects: { applyToSelf: { counterOffer: 5 } },
    upgradedDescription: 'Gain 5 Counter-Offer (reflect dmg when hit).',
    icon: 'ğŸš§',
  },
  ddos_protection: {
    id: 'ddos_protection', name: 'DDoS Protection', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 12 block. Gain 2 Counter-Offer (reflect dmg when hit). Cloudflare premium.',
    effects: { block: 12, applyToSelf: { counterOffer: 2 } },
    upgradedEffects: { block: 16, applyToSelf: { counterOffer: 3 } },
    upgradedDescription: 'Gain 16 block. Gain 3 Counter-Offer (reflect dmg when hit).',
    icon: 'ğŸ›¡ï¸',
  },
  index_optimization: {
    id: 'index_optimization', name: 'Index Optimization', type: 'skill', target: 'self', cost: 0, rarity: 'rare',
    class: 'backend', archetype: 'query_optimizer', exhaust: true,
    description: 'Gain 2 energy. Exhaust. Query went from 30s to 0.01s.',
    effects: { energy: 2 },
    upgradedEffects: { energy: 3 },
    upgradedDescription: 'Gain 3 energy. Exhaust.',
    icon: 'ğŸ“Š',
  },
  stored_procedure: {
    id: 'stored_procedure', name: 'Stored Procedure', type: 'attack', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'query_optimizer', exhaust: true,
    description: 'Deal 15 damage. Draw 1. Exhaust. In production since Oracle 8.',
    effects: { damage: 15, draw: 1 },
    upgradedEffects: { damage: 20, draw: 1 },
    upgradedDescription: 'Deal 20 damage. Draw 1. Exhaust.',
    icon: 'ğŸ—„ï¸',
  },
  // New rares
  confidence_boost: {
    id: 'confidence_boost', name: 'Confidence Boost', type: 'power', target: 'self', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'brute_force',
    description: 'Gain 4 Confidence. Draw 2 cards. O(n log n) is acceptable. So is this.',
    effects: { applyToSelf: { confidence: 4 }, draw: 2 },
    upgradedEffects: { applyToSelf: { confidence: 5 }, draw: 2 },
    upgradedDescription: 'Gain 5 Confidence. Draw 2.',
    icon: 'ğŸ’ª',
  },
  seg_fault: {
    id: 'seg_fault', name: 'Segfault', type: 'attack', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 5 damage x4. Self-damage 3. Signal 11. Core dumped.',
    effects: { damage: 5, times: 4, selfDamage: 3 },
    upgradedEffects: { damage: 7, times: 4, selfDamage: 3 },
    upgradedDescription: 'Deal 7 damage x4. Self-damage 3.',
    icon: 'ğŸ’€',
  },
  connection_pool: {
    id: 'connection_pool', name: 'Connection Pool', type: 'power', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 3 Counter-Offer. Gain 2 Resilience. Pre-established suffering.',
    effects: { applyToSelf: { counterOffer: 3, resilience: 2 } },
    upgradedEffects: { applyToSelf: { counterOffer: 4, resilience: 3 } },
    upgradedDescription: 'Gain 4 Counter-Offer. Gain 3 Resilience.',
    icon: 'ğŸ”Œ',
  },
  database_lock: {
    id: 'database_lock', name: 'Database Lock', type: 'skill', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'query_optimizer',
    description: 'Gain 18 block. Apply 2 Weak to target. LOCK TABLE feelings NOWAIT.',
    effects: { block: 18, applyToTarget: { weak: 2 } },
    upgradedEffects: { block: 22, applyToTarget: { weak: 2 } },
    upgradedDescription: 'Gain 22 block. Apply 2 Weak.',
    icon: 'ğŸ”’',
  },

  // â”€â”€ Backend Epic (was Rare) â”€â”€
  sudo_rm_rf: {
    id: 'sudo_rm_rf', name: 'sudo rm -rf', type: 'attack', target: 'enemy', cost: 3, rarity: 'epic',
    class: 'backend', archetype: 'brute_force', exhaust: true,
    description: 'Deal 8 damage x4. Self-damage 5. Exhaust. Great data loss.',
    effects: { damage: 8, times: 4, selfDamage: 5 },
    upgradedEffects: { damage: 10, times: 4, selfDamage: 5 },
    upgradedDescription: 'Deal 10 damage x4. Self-damage 5. Exhaust.',
    upgradedCost: 2,
    icon: 'â˜ ï¸',
  },
  honeypot: {
    id: 'honeypot', name: 'Honeypot', type: 'power', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 2 Counter-Offer (reflect dmg when hit). Gain 2 Confidence (+1 dmg per stack). Come closer. I insist.',
    effects: { applyToSelf: { counterOffer: 2, confidence: 2 } },
    upgradedEffects: { applyToSelf: { counterOffer: 3, confidence: 3 } },
    upgradedDescription: 'Gain 3 Counter-Offer (reflect dmg when hit). Gain 3 Confidence (+1 dmg per stack).',
    icon: 'ğŸ¯',
  },
  cache_invalidation: {
    id: 'cache_invalidation', name: 'Cache Invalidation', type: 'power', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'query_optimizer',
    description: 'Whenever you exhaust a card, deal 5 damage to a random enemy. The two hardest problems.',
    effects: {},
    upgradedEffects: {},
    upgradedDescription: 'Whenever you exhaust a card, deal 7 damage to a random enemy.',
    icon: 'ğŸ”„',
  },
  microservices: {
    id: 'microservices', name: 'Microservices', type: 'power', target: 'self', cost: 1, rarity: 'epic',
    class: 'backend', archetype: 'brute_force',
    description: 'Gain 3 Confidence (+1 dmg per stack). No more monolith.',
    effects: { applyToSelf: { confidence: 3 } },
    upgradedEffects: { applyToSelf: { confidence: 4 } },
    upgradedDescription: 'Cost 0. Gain 4 Confidence (+1 dmg per stack).',
    upgradedCost: 0,
    icon: 'ğŸ”€',
  },
  // New epics
  infinite_scale: {
    id: 'infinite_scale', name: 'Infinite Scale', type: 'power', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'brute_force',
    description: 'Gain 4 Confidence. Gain 2 Resilience. AWS bill not included.',
    effects: { applyToSelf: { confidence: 4, resilience: 2 } },
    upgradedEffects: { applyToSelf: { confidence: 5, resilience: 3 } },
    upgradedDescription: 'Gain 5 Confidence. Gain 3 Resilience.',
    upgradedCost: 1,
    icon: 'âˆ',
  },
  replication_factor: {
    id: 'replication_factor', name: 'Replication Factor', type: 'skill', target: 'self', cost: 0, rarity: 'epic',
    class: 'backend', archetype: 'query_optimizer', exhaust: true,
    description: 'Exhaust. Exhaust 3 from draw pile. Draw 3 cards. Gain 6 block. Redundancy as strategy.',
    effects: { exhaustFromDraw: 3, draw: 3, block: 6 },
    upgradedEffects: { exhaustFromDraw: 3, draw: 4, block: 8 },
    upgradedDescription: 'Exhaust. Exhaust 3 from draw pile. Draw 4 cards. Gain 8 block.',
    icon: 'ğŸ”„',
  },

  // â”€â”€ Backend Legendary â”€â”€
  sudo_mode: {
    id: 'sudo_mode', name: 'Sudo Mode', type: 'power', target: 'self', cost: 1, rarity: 'legendary',
    class: 'backend', archetype: 'brute_force',
    description: 'Gain 5 Confidence. For the rest of combat, your attacks deal increased damage. sudo bash â€” the last command you\'ll ever need. [Phase 2]',
    effects: { applyToSelf: { confidence: 5 } }, // placeholder
    upgradedEffects: { applyToSelf: { confidence: 6 } },
    upgradedDescription: 'Cost 0. Gain 6 Confidence.',
    upgradedCost: 0,
    icon: 'ğŸ‘‘',
  },
  the_monolith: {
    id: 'the_monolith', name: 'The Monolith', type: 'power', target: 'self', cost: 3, rarity: 'legendary',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 6 Counter-Offer. Gain 6 Resilience. Gain 6 Confidence. You are the stack. It does everything. It\'s fine. Don\'t touch it.',
    effects: { applyToSelf: { counterOffer: 6, resilience: 6, confidence: 6 } },
    upgradedEffects: { applyToSelf: { counterOffer: 8, resilience: 8, confidence: 8 } },
    upgradedDescription: 'Cost 2. Gain 8 Counter-Offer. Gain 8 Resilience. Gain 8 Confidence.',
    upgradedCost: 2,
    icon: 'ğŸ—ï¸',
  },
  rm_rf_reality: {
    id: 'rm_rf_reality', name: 'rm -rf reality', type: 'attack', target: 'all_enemies', cost: 4, rarity: 'legendary',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 20 damage to ALL. Self-damage 8. Exhaust 3 from draw. sudo rm -rf /* â€” At least you won\'t have to clean up after.',
    effects: { damageAll: 20, selfDamage: 8, exhaustFromDraw: 3 },
    upgradedEffects: { damageAll: 28, selfDamage: 5, exhaustFromDraw: 3 },
    upgradedDescription: 'Cost 3. Deal 28 damage to ALL. Self-damage 5. Exhaust 3 from draw.',
    upgradedCost: 3,
    icon: 'â˜ ï¸',
  },
  event_loop_god: {
    id: 'event_loop_god', name: 'Event Loop God', type: 'power', target: 'self', cost: 2, rarity: 'legendary',
    class: 'backend', archetype: 'query_optimizer',
    description: 'Gain 3 Networking. Exhaust synergy doubled â€” each exhaust deals 6 damage to ALL and gains 3 block. The event loop is yours now. [Phase 2]',
    effects: { applyToSelf: { networking: 3 } }, // placeholder
    upgradedEffects: { applyToSelf: { networking: 4 } },
    upgradedDescription: 'Cost 1. Gain 4 Networking.',
    upgradedCost: 1,
    icon: 'âš™ï¸',
  },

  // â”€â”€ Backend New Rares â”€â”€
  n_plus_one: {
    id: 'n_plus_one', name: 'N+1 Query', type: 'attack', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'query_optimizer',
    description: 'Deal 5 damage 4 times. SELECT * FROM pain WHERE id = every_row.',
    effects: { damage: 5, times: 4 },
    upgradedEffects: { damage: 7, times: 4 },
    upgradedDescription: 'Deal 7 damage 4 times.',
    icon: 'ğŸ”¢',
  },
  load_balancer: {
    id: 'load_balancer', name: 'Load Balancer', type: 'power', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 2 Counter-Offer. Gain 2 Resilience. Round-robin your suffering.',
    effects: { applyToSelf: { counterOffer: 2, resilience: 2 } },
    upgradedEffects: { applyToSelf: { counterOffer: 3, resilience: 3 } },
    upgradedDescription: 'Cost 1. Gain 3 Counter-Offer. Gain 3 Resilience.',
    upgradedCost: 1,
    icon: 'âš–ï¸',
  },
  cron_job: {
    id: 'cron_job', name: 'Cron Job', type: 'power', target: 'self', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 1 Self Care. Gain 1 Regen. 0 * * * * /bin/heal.sh',
    effects: { applyToSelf: { selfCare: 1, regen: 1 } },
    upgradedEffects: { applyToSelf: { selfCare: 2, regen: 2 } },
    upgradedDescription: 'Cost 0. Gain 2 Self Care. Gain 2 Regen.',
    upgradedCost: 0,
    icon: 'â°',
  },
  circuit_breaker: {
    id: 'circuit_breaker', name: 'Circuit Breaker', type: 'skill', target: 'self', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 8 block. Gain 2 Counter-Offer. Open the circuit. Stop the cascade.',
    effects: { block: 8, applyToSelf: { counterOffer: 2 } },
    upgradedEffects: { block: 11, applyToSelf: { counterOffer: 3 } },
    upgradedDescription: 'Gain 11 block. Gain 3 Counter-Offer.',
    icon: 'ğŸ”Œ',
  },
  event_replay: {
    id: 'event_replay', name: 'Event Replay', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'query_optimizer', exhaust: true,
    description: 'Exhaust. Shuffle discard pile into draw pile. Draw 3 cards. Rewind. Try again.',
    effects: { shuffleDiscardToDraw: true, draw: 3 },
    upgradedEffects: { shuffleDiscardToDraw: true, draw: 4 },
    upgradedDescription: 'Cost 1. Exhaust. Shuffle discard into draw. Draw 4.',
    upgradedCost: 1,
    icon: 'ğŸ”',
  },

  // â”€â”€ Backend New Epics â”€â”€
  container_escape: {
    id: 'container_escape', name: 'Container Escape', type: 'attack', target: 'enemy', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 35 damage. Self-damage 15. You broke out. You also broke everything.',
    effects: { damage: 35, selfDamage: 15 },
    upgradedEffects: { damage: 42, selfDamage: 10 },
    upgradedDescription: 'Deal 42 damage. Self-damage 10.',
    icon: 'ğŸ“¦',
  },
  event_driven_arch: {
    id: 'event_driven_arch', name: 'Event-Driven Arch', type: 'power', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'query_optimizer',
    description: 'Gain 2 Networking. Gain 2 Confidence. Subscribe to victory. Publish pain.',
    effects: { applyToSelf: { networking: 2, confidence: 2 } },
    upgradedEffects: { applyToSelf: { networking: 3, confidence: 3 } },
    upgradedDescription: 'Cost 1. Gain 3 Networking. Gain 3 Confidence.',
    upgradedCost: 1,
    icon: 'ğŸ“¡',
  },
  zero_downtime_migration: {
    id: 'zero_downtime_migration', name: 'Zero Downtime', type: 'skill', target: 'self', cost: 3, rarity: 'epic',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 20 block. Heal 12 HP. Reduce 12 Stress. No maintenance window. No mercy.',
    effects: { block: 20, heal: 12, copium: 12 },
    upgradedEffects: { block: 25, heal: 16, copium: 16 },
    upgradedDescription: 'Cost 2. Gain 25 block. Heal 16 HP. Reduce 16 Stress.',
    upgradedCost: 2,
    icon: 'ğŸ”„',
  },
  sharding: {
    id: 'sharding', name: 'Sharding', type: 'power', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'query_optimizer',
    description: 'Gain 2 Confidence. Gain 2 Resilience. Gain 1 Networking. Horizontal scaling of the soul.',
    effects: { applyToSelf: { confidence: 2, resilience: 2, networking: 1 } },
    upgradedEffects: { applyToSelf: { confidence: 3, resilience: 3, networking: 2 } },
    upgradedDescription: 'Cost 1. Gain 3 Confidence. Gain 3 Resilience. Gain 2 Networking.',
    upgradedCost: 1,
    icon: 'ğŸ—„ï¸',
  },

  // â”€â”€ Backend New Legendaries â”€â”€
  the_pager: {
    id: 'the_pager', name: 'The Pager', type: 'power', target: 'self', cost: 2, rarity: 'legendary',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 3 Counter-Offer. Gain 3 Resilience. Gain 3 Regen. It goes off at 2 AM. You answer. Every time.',
    effects: { applyToSelf: { counterOffer: 3, resilience: 3, regen: 3 } },
    upgradedEffects: { applyToSelf: { counterOffer: 4, resilience: 4, regen: 4 } },
    upgradedDescription: 'Cost 1. Gain 4 Counter-Offer. Gain 4 Resilience. Gain 4 Regen.',
    upgradedCost: 1,
    icon: 'ğŸ“Ÿ',
  },
  cascade_failure: {
    id: 'cascade_failure', name: 'Cascade Failure', type: 'attack', target: 'all_enemies', cost: 3, rarity: 'legendary',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 40 damage to ALL. Self-damage 20. Add 15 stress. One service went down. They all went down.',
    effects: { damageAll: 40, selfDamage: 20, addStress: 15 },
    upgradedEffects: { damageAll: 50, selfDamage: 12, addStress: 10 },
    upgradedDescription: 'Cost 2. Deal 50 damage to ALL. Self-damage 12. Add 10 stress.',
    upgradedCost: 2,
    icon: 'ğŸ’¥',
  },

  // â”€â”€ Backend Curse â”€â”€
  race_condition: {
    id: 'race_condition', name: 'Race Condition', type: 'curse', target: 'self', cost: 1, rarity: 'curse',
    class: 'backend',
    description: 'Unplayable. Add 6 stress when drawn. Two threads. One resource. Zero mercy.',
    effects: {},
    icon: 'ğŸ',
  },
};
