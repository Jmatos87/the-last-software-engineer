import type { CardDef } from '../../types';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BACKEND DEV â€” "The Server Sentinel"
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const backendCards: Record<string, CardDef> = {

  // â”€â”€ Starters â”€â”€
  sql_injection: {
    id: 'sql_injection', name: 'SQL Injection', type: 'attack', target: 'enemy', cost: 1, rarity: 'starter',
    class: 'backend',
    description: "Deal 6 damage. '; DROP TABLE enemies;--",
    effects: { damage: 6 },
    upgradedEffects: { damage: 9 },
    upgradedDescription: "Deal 9 damage. '; DROP DATABASE;--",
    icon: 'ğŸ’‰',
  },
  api_response: {
    id: 'api_response', name: 'API Response', type: 'skill', target: 'self', cost: 1, rarity: 'starter',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 5 block. HTTP 200 OK.',
    effects: { block: 5 },
    upgradedEffects: { block: 8 },
    upgradedDescription: 'Gain 8 block.',
    icon: 'ğŸ“¡',
  },
  stack_trace: {
    id: 'stack_trace', name: 'Stack Trace', type: 'skill', target: 'self', cost: 1, rarity: 'starter',
    class: 'backend',
    description: 'Draw 2 cards. Follow the breadcrumbs of your failures.',
    effects: { draw: 2 },
    upgradedEffects: { draw: 3 },
    upgradedDescription: 'Draw 3 cards.',
    icon: 'ğŸ“œ',
  },
  server_log: {
    id: 'server_log', name: 'Server Log', type: 'skill', target: 'self', cost: 1, rarity: 'starter',
    class: 'backend',
    description: 'Gain 4 block. Reduce 3 Stress. tail -f /var/log/feelings.',
    effects: { block: 4, copium: 3 },
    upgradedEffects: { block: 6, copium: 4 },
    upgradedDescription: 'Gain 6 block. Reduce 4 Stress.',
    icon: 'ğŸ“‹',
  },
  ping: {
    id: 'ping', name: 'Ping', type: 'attack', target: 'enemy', cost: 0, rarity: 'starter',
    class: 'backend',
    description: 'Deal 3 damage. ICMP ECHO REQUEST.',
    effects: { damage: 3 },
    upgradedEffects: { damage: 5 },
    upgradedDescription: 'Deal 5 damage.',
    icon: 'ğŸ“¶',
  },

  // â”€â”€ Backend Common â”€â”€
  brute_force_attack: {
    id: 'brute_force_attack', name: 'Brute Force', type: 'attack', target: 'enemy', cost: 2, rarity: 'common',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 12 damage. Gain 1 Strength. O(n!) but it works.',
    effects: { damage: 12, applyToSelf: { strength: 1 } },
    upgradedEffects: { damage: 16, applyToSelf: { strength: 1 } },
    upgradedDescription: 'Deal 16 damage. Gain 1 Strength.',
    icon: 'ğŸ”¨',
  },
  memory_leak: {
    id: 'memory_leak', name: 'Memory Leak', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 7 damage. It just keeps growing.',
    effects: { damage: 7 },
    upgradedEffects: { damage: 10 },
    upgradedDescription: 'Deal 10 damage.',
    icon: 'ğŸ’¾',
  },
  firewall_rules: {
    id: 'firewall_rules', name: 'Firewall Rules', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 8 block. Gain 1 Counter-Offer. iptables -A INPUT -j REJECT.',
    effects: { block: 8, applyToSelf: { counterOffer: 1 } },
    upgradedEffects: { block: 11, applyToSelf: { counterOffer: 1 } },
    upgradedDescription: 'Gain 11 block. Gain 1 Counter-Offer.',
    icon: 'ğŸ”¥',
  },
  tcp_handshake: {
    id: 'tcp_handshake', name: 'TCP Handshake', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 6 block. If you have Counter-Offer, gain 4 more. SYN... SYN-ACK... pain.',
    effects: { block: 6 },
    upgradedEffects: { block: 8 },
    upgradedDescription: 'Gain 8 block. If you have Counter-Offer, gain 4 more.',
    icon: 'ğŸ¤',
  },
  garbage_collection: {
    id: 'garbage_collection', name: 'Garbage Collection', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'query_optimizer',
    description: 'Exhaust a card from hand. Draw 2. free(pain); malloc(hope);',
    effects: { draw: 2, exhaustRandom: 1 },
    upgradedEffects: { draw: 3, exhaustRandom: 1 },
    upgradedDescription: 'Exhaust a card from hand. Draw 3.',
    icon: 'ğŸ—‘ï¸',
  },
  database_migration: {
    id: 'database_migration', name: 'DB Migration', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'query_optimizer', exhaust: true,
    description: 'Gain 6 block. Exhaust. ALTER TABLE life ADD COLUMN hope;',
    effects: { block: 6 },
    upgradedEffects: { block: 10 },
    upgradedDescription: 'Gain 10 block. Exhaust.',
    icon: 'ğŸ”„',
  },
  transfer_learning_backend: {
    id: 'transfer_learning_backend', name: 'Load Test', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'brute_force',
    description: 'Deal 5 damage. If you have Strength, deal 5 more. Stress test the system.',
    effects: { damage: 5 },
    upgradedEffects: { damage: 7 },
    upgradedDescription: 'Deal 7 damage. If you have Strength, deal 5 more.',
    icon: 'âš¡',
  },

  // â”€â”€ Backend Uncommon â”€â”€
  kernel_panic: {
    id: 'kernel_panic', name: 'Kernel Panic', type: 'attack', target: 'enemy', cost: 3, rarity: 'uncommon',
    class: 'backend', archetype: 'brute_force', exhaust: true,
    description: 'Deal 24 damage. Exhaust. The system is YOU.',
    effects: { damage: 24 },
    upgradedEffects: { damage: 32 },
    upgradedDescription: 'Deal 32 damage. Exhaust.',
    upgradedCost: 2,
    icon: 'ğŸ’¥',
  },
  overclock: {
    id: 'overclock', name: 'Overclock', type: 'power', target: 'self', cost: 1, rarity: 'uncommon',
    class: 'backend', archetype: 'brute_force',
    description: 'Gain 2 Strength. CPU at 110%. The fans are screaming.',
    effects: { applyToSelf: { strength: 2 } },
    upgradedEffects: { applyToSelf: { strength: 3 } },
    upgradedDescription: 'Gain 3 Strength.',
    icon: 'âš¡',
  },
  rate_limiter: {
    id: 'rate_limiter', name: 'Rate Limiter', type: 'power', target: 'self', cost: 1, rarity: 'uncommon',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 3 Counter-Offer. 429 Too Many Requests.',
    effects: { applyToSelf: { counterOffer: 3 } },
    upgradedEffects: { applyToSelf: { counterOffer: 5 } },
    upgradedDescription: 'Gain 5 Counter-Offer.',
    icon: 'ğŸš§',
  },
  ddos_protection: {
    id: 'ddos_protection', name: 'DDoS Protection', type: 'skill', target: 'self', cost: 2, rarity: 'uncommon',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 12 block. Gain 2 Counter-Offer. Cloudflare premium.',
    effects: { block: 12, applyToSelf: { counterOffer: 2 } },
    upgradedEffects: { block: 16, applyToSelf: { counterOffer: 3 } },
    upgradedDescription: 'Gain 16 block. Gain 3 Counter-Offer.',
    icon: 'ğŸ›¡ï¸',
  },
  index_optimization: {
    id: 'index_optimization', name: 'Index Optimization', type: 'skill', target: 'self', cost: 0, rarity: 'uncommon',
    class: 'backend', archetype: 'query_optimizer', exhaust: true,
    description: 'Gain 2 energy. Exhaust. Query went from 30s to 0.01s.',
    effects: { energy: 2 },
    upgradedEffects: { energy: 3 },
    upgradedDescription: 'Gain 3 energy. Exhaust.',
    icon: 'ğŸ“Š',
  },
  stored_procedure: {
    id: 'stored_procedure', name: 'Stored Procedure', type: 'attack', target: 'enemy', cost: 2, rarity: 'uncommon',
    class: 'backend', archetype: 'query_optimizer', exhaust: true,
    description: 'Deal 15 damage. Draw 1. Exhaust. In production since Oracle 8.',
    effects: { damage: 15, draw: 1 },
    upgradedEffects: { damage: 20, draw: 1 },
    upgradedDescription: 'Deal 20 damage. Draw 1. Exhaust.',
    icon: 'ğŸ—„ï¸',
  },

  // â”€â”€ Backend Rare â”€â”€
  sudo_rm_rf: {
    id: 'sudo_rm_rf', name: 'sudo rm -rf', type: 'attack', target: 'enemy', cost: 3, rarity: 'rare',
    class: 'backend', archetype: 'brute_force', exhaust: true,
    description: 'Deal 8 damage x4. Self-damage 5. Exhaust. Great data loss.',
    effects: { damage: 8, times: 4, selfDamage: 5 },
    upgradedEffects: { damage: 10, times: 4, selfDamage: 5 },
    upgradedDescription: 'Deal 10 damage x4. Self-damage 5. Exhaust.',
    upgradedCost: 2,
    icon: 'â˜ ï¸',
  },
  honeypot: {
    id: 'honeypot', name: 'Honeypot', type: 'power', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'rate_limiter',
    description: 'Gain 2 Counter-Offer. Gain 2 Strength. Come closer. I insist.',
    effects: { applyToSelf: { counterOffer: 2, strength: 2 } },
    upgradedEffects: { applyToSelf: { counterOffer: 3, strength: 3 } },
    upgradedDescription: 'Gain 3 Counter-Offer. Gain 3 Strength.',
    icon: 'ğŸ¯',
  },
  cache_invalidation: {
    id: 'cache_invalidation', name: 'Cache Invalidation', type: 'power', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'query_optimizer',
    description: 'Whenever you exhaust a card, deal 5 damage to a random enemy. The two hardest problems.',
    effects: {},
    upgradedEffects: {},
    upgradedDescription: 'Whenever you exhaust a card, deal 7 damage to a random enemy.',
    icon: 'ğŸ”„',
  },
  microservices: {
    id: 'microservices', name: 'Microservices', type: 'power', target: 'self', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'brute_force',
    description: 'Gain 3 Strength. No more monolith.',
    effects: { applyToSelf: { strength: 3 } },
    upgradedEffects: { applyToSelf: { strength: 4 } },
    upgradedDescription: 'Gain 4 Strength.',
    icon: 'ğŸ”€',
  },
};
