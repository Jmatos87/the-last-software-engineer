import type { CardDef } from '../../types';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BACKEND DEV â€” "The Elemental Architect"
// Core mechanic: Detonation Queue â€” cards schedule effects for next turn.
// 3 elements: Ice (queue block), Fire (queue AoE damage), Lightning (queue chain per-enemy)
// Batch bonus: 2 elements = Ã—1.5, 3 elements = Ã—2.0 + System Meltdown (vulnerable all)
// Advanced ice: savingsAccount (persistent block). Fire also queues burn DoT.
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const backendCards: Record<string, CardDef> = {

  // â”€â”€ Starters â”€â”€
  cache_warmup: {
    id: 'cache_warmup', name: 'Cache Warmup', type: 'skill', target: 'self', cost: 1, rarity: 'starter',
    class: 'backend', archetype: 'ice',
    description: 'Gain 3 block. Schedule 8 block for next turn. Cache pre-warming: you only benefit after setup.',
    effects: { block: 3, queueBlock: 8 },
    upgradedEffects: { block: 4, queueBlock: 12 },
    upgradedDescription: 'Gain 4 block. Schedule 12 block for next turn.',
    icon: 'ğŸ§Š',
  },
  scheduled_exception: {
    id: 'scheduled_exception', name: 'Scheduled Exception', type: 'attack', target: 'enemy', cost: 1, rarity: 'starter',
    class: 'backend', archetype: 'fire',
    description: 'Deal 4 damage. Schedule 10 damage to all enemies next turn. throw new Exception("TODO: fix later");',
    effects: { damage: 4, queueDamageAll: 10 },
    upgradedEffects: { damage: 6, queueDamageAll: 14 },
    upgradedDescription: 'Deal 6 damage. Schedule 14 damage to all enemies next turn.',
    icon: 'ğŸ”¥',
  },
  async_webhook: {
    id: 'async_webhook', name: 'Async Webhook', type: 'attack', target: 'enemy', cost: 0, rarity: 'starter',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 3 damage. Schedule 5 chain damage to each enemy next turn. It\'ll arrive. Probably in order.',
    effects: { damage: 3, queueChain: 5 },
    upgradedEffects: { damage: 4, queueChain: 7 },
    upgradedDescription: 'Deal 4 damage. Schedule 7 chain damage to each enemy next turn.',
    icon: 'âš¡',
  },
  stack_trace: {
    id: 'stack_trace', name: 'Stack Trace', type: 'skill', target: 'self', cost: 1, rarity: 'starter',
    class: 'backend',
    description: 'Draw 2 cards. Follow the breadcrumbs. They lead to your own mistakes.',
    effects: { draw: 2 },
    upgradedEffects: { draw: 3 },
    upgradedDescription: 'Draw 3 cards.',
    icon: 'ğŸ“œ',
  },

  // â”€â”€ Ice Commons â”€â”€
  cold_cache: {
    id: 'cold_cache', name: 'Cold Cache', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'ice',
    description: 'Gain 5 block. Schedule 12 block for next turn. TTL: infinite. Cache invalidation: the other hard problem.',
    effects: { block: 5, queueBlock: 12 },
    upgradedEffects: { block: 7, queueBlock: 16 },
    upgradedDescription: 'Gain 7 block. Schedule 16 block for next turn.',
    icon: 'â„ï¸',
  },
  connection_pool: {
    id: 'connection_pool', name: 'Connection Pool', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'ice',
    description: 'Gain 8 Block. Schedule 8 Block. Fires in 2 turns. [â˜ï¸ Ice] maxPoolSize: 10. Current connections: 11. Panic.',
    effects: { block: 8, queueBlockQuick: 8 },
    upgradedEffects: { block: 12, queueBlockQuick: 11 },
    upgradedDescription: 'Gain 12 Block. Schedule 11 Block. Fires in 2 turns. [â˜ï¸ Ice]',
    icon: 'ğŸ”Œ',
  },
  cold_backup: {
    id: 'cold_backup', name: 'Cold Backup', type: 'skill', target: 'self', cost: 2, rarity: 'common',
    class: 'backend', archetype: 'ice',
    description: 'Gain 8 block. Schedule 22 block. Fires in 2 turns. The backup exists. It has never been restored. RTO: unknown.',
    effects: { block: 8, queueBlockQuick: 22 },
    upgradedEffects: { block: 12, queueBlockQuick: 31 },
    upgradedDescription: 'Gain 12 block. Schedule 31 block. Fires in 2 turns.',
    icon: 'ğŸ’¾',
  },
  read_replica: {
    id: 'read_replica', name: 'Read Replica', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'ice',
    description: 'Gain 4 block. Draw 1 card. Schedule 25 block. Fires in 2 turns. Offload reads to the replica. It is 3 seconds behind. Like the roadmap.',
    effects: { block: 4, draw: 1, queueBlockQuick: 25 },
    upgradedEffects: { block: 6, draw: 2, queueBlockQuick: 35 },
    upgradedDescription: 'Gain 6 block. Draw 2 cards. Schedule 35 block. Fires in 2 turns.',
    icon: 'ğŸ“‹',
  },
  index_scan: {
    id: 'index_scan', name: 'Index Scan', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'ice',
    description: 'Deal 5 damage. Apply 1 Weak. Schedule 8 block for next turn. EXPLAIN ANALYZE: full table scan. Your DBA has left the building.',
    effects: { damage: 5, applyToTarget: { weak: 1 }, queueBlock: 8 },
    upgradedEffects: { damage: 7, applyToTarget: { weak: 2 }, queueBlock: 10 },
    upgradedDescription: 'Deal 7 damage. Apply 2 Weak. Schedule 10 block for next turn.',
    icon: 'ğŸ”',
  },

  // â”€â”€ Fire Commons â”€â”€
  garbage_fire: {
    id: 'garbage_fire', name: 'Garbage Fire', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'fire',
    description: 'Deal 5 damage. Schedule 10 damage to all enemies next turn. It runs. It\'s on fire. But technically it runs.',
    effects: { damage: 5, queueDamageAll: 10 },
    upgradedEffects: { damage: 7, queueDamageAll: 14 },
    upgradedDescription: 'Deal 7 damage. Schedule 14 damage to all enemies next turn.',
    icon: 'ğŸ—‘ï¸',
  },
  exception_throw: {
    id: 'exception_throw', name: 'Exception Throw', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'fire',
    description: 'Deal 7 damage. Apply 2 Burn. RuntimeException: your problem now.',
    effects: { damage: 7, applyToTarget: { burn: 2 } },
    upgradedEffects: { damage: 10, applyToTarget: { burn: 3 } },
    upgradedDescription: 'Deal 10 damage. Apply 3 Burn.',
    icon: 'ğŸ’¥',
  },
  hot_path: {
    id: 'hot_path', name: 'Hot Path', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'fire',
    description: 'Deal 6 damage. Schedule 8 damage to all enemies next turn. The 20% of code responsible for 100% of the incidents.',
    effects: { damage: 6, queueDamageAll: 8 },
    upgradedEffects: { damage: 9, queueDamageAll: 12 },
    upgradedDescription: 'Deal 9 damage. Schedule 12 damage to all enemies next turn.',
    icon: 'ğŸŒ¡ï¸',
  },
  memory_spike: {
    id: 'memory_spike', name: 'Memory Spike', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'fire',
    description: 'Deal 5 damage. Gain 1 Confidence. GC pause: 4 seconds. SLA: 2 seconds. Incident: filed.',
    effects: { damage: 5, applyToSelf: { confidence: 1 } },
    upgradedEffects: { damage: 8, applyToSelf: { confidence: 2 } },
    upgradedDescription: 'Deal 8 damage. Gain 2 Confidence.',
    icon: 'ğŸ“ˆ',
  },
  server_500: {
    id: 'server_500', name: '500 Error', type: 'attack', target: 'enemy', cost: 2, rarity: 'common',
    class: 'backend', archetype: 'fire',
    description: 'Deal 12 damage. Schedule 12 damage to all enemies next turn. Internal Server Error. The error is you.',
    effects: { damage: 12, queueDamageAll: 12 },
    upgradedEffects: { damage: 16, queueDamageAll: 16 },
    upgradedDescription: 'Deal 16 damage. Schedule 16 damage to all enemies next turn.',
    icon: 'ğŸš¨',
  },

  // â”€â”€ Lightning Commons â”€â”€
  webhook_blast: {
    id: 'webhook_blast', name: 'Webhook Blast', type: 'attack', target: 'all_enemies', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 5 damage to ALL enemies. Schedule 13 AoE damage. Fires in 2 turns. POST /notify. Delivered 47 times. None expected it.',
    effects: { damageAll: 5, queueDamageAllQuick: 13 },
    upgradedEffects: { damageAll: 8, queueDamageAllQuick: 18 },
    upgradedDescription: 'Deal 8 damage to ALL enemies. Schedule 18 AoE damage. Fires in 2 turns.',
    icon: 'ğŸ“¡',
  },
  retry_loop: {
    id: 'retry_loop', name: 'Retry Loop', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 5 damage. Schedule 10 chain damage to each enemy. Fires in 2 turns. MAX_RETRIES: 3. Attempts: 40. No regrets.',
    effects: { damage: 5, queueChainQuick: 10 },
    upgradedEffects: { damage: 7, queueChainQuick: 14 },
    upgradedDescription: 'Deal 7 damage. Schedule 14 chain damage to each enemy. Fires in 2 turns.',
    icon: 'ğŸ”„',
  },
  pub_sub_event: {
    id: 'pub_sub_event', name: 'Pub/Sub Event', type: 'attack', target: 'enemy', cost: 0, rarity: 'common',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 4 damage. Schedule 10 chain damage to each enemy. Fires in 2 turns. Published to 3 services. Consumed by 6. None were ready.',
    effects: { damage: 4, queueChainQuick: 10 },
    upgradedEffects: { damage: 6, queueChainQuick: 14 },
    upgradedDescription: 'Deal 6 damage. Schedule 14 chain damage to each enemy. Fires in 2 turns.',
    icon: 'ğŸ“¢',
  },
  circuit_breaker: {
    id: 'circuit_breaker', name: 'Circuit Breaker', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend', archetype: 'lightning',
    description: 'Gain 4 block. Schedule 13 block. Fires in 2 turns. OPEN state. Your downtime is contained. Partially.',
    effects: { block: 4, queueBlockQuick: 13 },
    upgradedEffects: { block: 6, queueBlockQuick: 18 },
    upgradedDescription: 'Gain 6 block. Schedule 18 block. Fires in 2 turns.',
    icon: 'âš¡',
  },
  async_task: {
    id: 'async_task', name: 'Async Task', type: 'attack', target: 'enemy', cost: 0, rarity: 'common',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 3 damage. Schedule 8 chain damage to each enemy. Fires in 2 turns. Fire and forget. Mostly forget.',
    effects: { damage: 3, queueChainQuick: 8 },
    upgradedEffects: { damage: 4, queueChainQuick: 11 },
    upgradedDescription: 'Deal 4 damage. Schedule 11 chain damage to each enemy. Fires in 2 turns.',
    icon: 'â³',
  },

  // â”€â”€ Ice Rares â”€â”€
  permafrost: {
    id: 'permafrost', name: 'Permafrost', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'ice',
    description: 'Gain 10 block. Schedule 20 block for next turn. The cache entry that lives forever. The bug that comes with it.',
    effects: { block: 10, queueBlock: 20 },
    upgradedEffects: { block: 14, queueBlock: 26 },
    upgradedDescription: 'Gain 14 block. Schedule 26 block for next turn.',
    icon: 'ğŸŒ¨ï¸',
  },
  database_lock: {
    id: 'database_lock', name: 'Database Lock', type: 'attack', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'ice',
    description: 'Deal 8 damage. Gain 8 block. Apply 2 Vulnerable. Schedule 15 block for next turn. SELECT * FOR UPDATE. Your turn: cancelled.',
    effects: { damage: 8, block: 8, applyToTarget: { vulnerable: 2 }, queueBlock: 15 },
    upgradedEffects: { damage: 12, block: 12, applyToTarget: { vulnerable: 3 }, queueBlock: 20 },
    upgradedDescription: 'Deal 12 damage. Gain 12 block. Apply 3 Vulnerable. Schedule 20 block for next turn.',
    icon: 'ğŸ”’',
  },
  cdn_edge: {
    id: 'cdn_edge', name: 'CDN Edge', type: 'skill', target: 'self', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'ice',
    description: 'Gain 6 block. Schedule 10 block for next turn. Apply 1 Vulnerable to ALL enemies. Distributed. Cached. Wrong everywhere.',
    effects: { block: 6, queueBlock: 10, applyToAll: { vulnerable: 1 } },
    upgradedEffects: { block: 9, queueBlock: 14, applyToAll: { vulnerable: 2 } },
    upgradedDescription: 'Gain 9 block. Schedule 14 block for next turn. Apply 2 Vulnerable to ALL enemies.',
    icon: 'ğŸŒ',
  },
  rate_limiter: {
    id: 'rate_limiter', name: 'Rate Limiter', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'ice',
    description: 'Gain 4 Savings Account (retain up to 4 block between turns). Schedule 15 block for next turn. 429 Too Many Requests. The limit is you.',
    effects: { applyToSelf: { savingsAccount: 4 }, queueBlock: 15 },
    upgradedEffects: { applyToSelf: { savingsAccount: 6 }, queueBlock: 20 },
    upgradedDescription: 'Gain 6 Savings Account. Schedule 20 block for next turn.',
    icon: 'ğŸš§',
  },
  kubernetes_pod: {
    id: 'kubernetes_pod', name: 'K8s Pod', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'ice',
    description: 'Gain 10 Block. Schedule 14 Block for next turn. [â˜ï¸ Ice]',
    effects: { block: 10, queueBlock: 14 },
    upgradedEffects: { block: 12, queueBlock: 18 },
    upgradedDescription: 'Gain 12 Block. Schedule 18 Block for next turn. [â˜ï¸ Ice]',
    icon: 'âš“',
  },

  // â”€â”€ Fire Rares â”€â”€
  core_dump: {
    id: 'core_dump', name: 'Core Dump', type: 'attack', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'fire',
    description: 'Deal 14 damage. Apply 3 Burn. Schedule 16 damage to all enemies next turn. SIGSEGV. It knows what it did.',
    effects: { damage: 14, applyToTarget: { burn: 3 }, queueDamageAll: 16 },
    upgradedEffects: { damage: 19, applyToTarget: { burn: 4 }, queueDamageAll: 22 },
    upgradedDescription: 'Deal 19 damage. Apply 4 Burn. Schedule 22 damage to all enemies next turn.',
    icon: 'ğŸ’€',
  },
  exception_cascade: {
    id: 'exception_cascade', name: 'Exception Cascade', type: 'attack', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'fire',
    description: 'Deal 10 damage. Schedule 18 damage to all enemies next turn. NullPointerException â†’ IllegalStateException â†’ your fault.',
    effects: { damage: 10, queueDamageAll: 18 },
    upgradedEffects: { damage: 14, queueDamageAll: 24 },
    upgradedDescription: 'Deal 14 damage. Schedule 24 damage to all enemies next turn.',
    icon: 'ğŸ’¥',
  },
  flame_war: {
    id: 'flame_war', name: 'Flame War PR', type: 'attack', target: 'enemy', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'fire',
    description: 'Deal 6 damage. Apply 2 Burn and 2 Vulnerable. 500-comment PR. Still open. Still smoldering.',
    effects: { damage: 6, applyToTarget: { burn: 2, vulnerable: 2 } },
    upgradedEffects: { damage: 9, applyToTarget: { burn: 3, vulnerable: 3 } },
    upgradedDescription: 'Deal 9 damage. Apply 3 Burn and 3 Vulnerable.',
    icon: 'ğŸ’¬',
  },
  pagerduty_alert: {
    id: 'pagerduty_alert', name: 'PagerDuty Alert', type: 'attack', target: 'enemy', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'fire',
    description: 'Deal 8 damage. Gain 2 Confidence. Schedule 30 AoE damage. Fires in 3 turns. CRITICAL. 3AM. Everyone is now awake.',
    effects: { damage: 8, applyToSelf: { confidence: 2 }, queueDamageAllDelayed: 30 },
    upgradedEffects: { damage: 12, applyToSelf: { confidence: 3 }, queueDamageAllDelayed: 42 },
    upgradedDescription: 'Deal 12 damage. Gain 3 Confidence. Schedule 42 AoE damage. Fires in 3 turns.',
    icon: 'ğŸ“Ÿ',
  },
  hot_standby: {
    id: 'hot_standby', name: 'Hot Standby', type: 'attack', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'fire',
    description: 'Deal 10 damage. Schedule 21 block. Fires in 3 turns. Always on. Always alert. Spiritually gone. Deploying anyway.',
    effects: { damage: 10, queueBlockDelayed: 21 },
    upgradedEffects: { damage: 14, queueBlockDelayed: 29 },
    upgradedDescription: 'Deal 14 damage. Schedule 29 block. Fires in 3 turns.',
    icon: 'ğŸ”‹',
  },

  // â”€â”€ Lightning Rares â”€â”€
  distributed_strike: {
    id: 'distributed_strike', name: 'Distributed Strike', type: 'attack', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 8 damage. Schedule 18 chain damage to each enemy. Fires in 3 turns. 8 microservices. 8 failures. All mine.',
    effects: { damage: 8, queueChainDelayed: 18 },
    upgradedEffects: { damage: 12, queueChainDelayed: 25 },
    upgradedDescription: 'Deal 12 damage. Schedule 25 chain damage to each enemy. Fires in 3 turns.',
    icon: 'ğŸŒ©ï¸',
  },
  kafka_offset: {
    id: 'kafka_offset', name: 'Kafka Offset', type: 'skill', target: 'self', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'lightning',
    description: 'Draw 1 card. Schedule 22 chain damage to each enemy. Fires in 3 turns. Committed at offset 1. Again. 8 million times.',
    effects: { draw: 1, queueChainDelayed: 22 },
    upgradedEffects: { draw: 2, queueChainDelayed: 31 },
    upgradedDescription: 'Draw 2 cards. Schedule 31 chain damage to each enemy. Fires in 3 turns.',
    icon: 'ğŸ“®',
  },
  message_queue: {
    id: 'message_queue', name: 'Message Queue', type: 'attack', target: 'all_enemies', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 5 damage to ALL enemies. Draw 1 card. Schedule 15 chain damage to each enemy. Fires in 3 turns. SQS visibility timeout: 30s. ETA: never.',
    effects: { damageAll: 5, draw: 1, queueChainDelayed: 15 },
    upgradedEffects: { damageAll: 7, draw: 2, queueChainDelayed: 21 },
    upgradedDescription: 'Deal 7 damage to ALL. Draw 2 cards. Schedule 21 chain damage to each enemy. Fires in 3 turns.',
    icon: 'ğŸ“¬',
  },
  event_storm: {
    id: 'event_storm', name: 'Event Storm', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'lightning',
    description: 'Schedule 24 chain damage to each enemy. Fires in 3 turns. The event bus has opinions. The opinions: fatal.',
    effects: { queueChainDelayed: 24 },
    upgradedEffects: { queueChainDelayed: 34 },
    upgradedDescription: 'Schedule 34 chain damage to each enemy. Fires in 3 turns.',
    icon: 'ğŸŒªï¸',
  },
  thunderbolt_query: {
    id: 'thunderbolt_query', name: 'Thunderbolt Query', type: 'attack', target: 'enemy', cost: 2, rarity: 'rare',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 10 damage. Schedule 21 chain damage to each enemy. Fires in 3 turns. N+1 queries, but the N is theological.',
    effects: { damage: 10, queueChainDelayed: 21 },
    upgradedEffects: { damage: 14, queueChainDelayed: 29 },
    upgradedDescription: 'Deal 14 damage. Schedule 29 chain damage to each enemy. Fires in 3 turns.',
    icon: 'âš¡',
  },

  // â”€â”€ Ice Epics â”€â”€
  absolute_zero: {
    id: 'absolute_zero', name: 'Absolute Zero', type: 'skill', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'ice',
    description: 'Gain 15 block. Gain 3 Savings Account. Schedule 52 block. Fires in 4 turns. 0 Kelvin: unreachable. Your DB latency: attempting it.',
    effects: { block: 15, applyToSelf: { savingsAccount: 3 }, queueBlockCharged: 52 },
    upgradedEffects: { block: 20, applyToSelf: { savingsAccount: 5 }, queueBlockCharged: 73 },
    upgradedDescription: 'Gain 20 block. Gain 5 Savings Account. Schedule 73 block. Fires in 4 turns.',
    icon: 'â„ï¸',
  },
  ice_storm_deploy: {
    id: 'ice_storm_deploy', name: 'Ice Storm Deploy', type: 'skill', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'ice',
    description: 'Gain 10 block. Schedule 35 block. Fires in 4 turns. Apply 2 Vulnerable and 1 Weak to ALL enemies. Blue/Green deploy: both died. Purple was a mistake.',
    effects: { block: 10, queueBlockCharged: 35, applyToAll: { vulnerable: 2, weak: 1 } },
    upgradedEffects: { block: 14, queueBlockCharged: 49, applyToAll: { vulnerable: 3, weak: 2 } },
    upgradedDescription: 'Gain 14 block. Schedule 49 block. Fires in 4 turns. Apply 3 Vulnerable and 2 Weak to ALL enemies.',
    icon: 'ğŸŒªï¸',
  },
  cold_replication: {
    id: 'cold_replication', name: 'Cold Replication', type: 'skill', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'ice',
    exhaust: true,
    description: 'Gain 12 block. Gain 5 Savings Account. Schedule 35 block for next turn. Exhaust. Multi-region failover. The primary is already gone.',
    effects: { block: 12, applyToSelf: { savingsAccount: 5 }, queueBlock: 35 },
    upgradedEffects: { block: 16, applyToSelf: { savingsAccount: 7 }, queueBlock: 45 },
    upgradedDescription: 'Gain 16 block. Gain 7 Savings Account. Schedule 45 block for next turn. Exhaust.',
    icon: 'ğŸ”„',
  },

  // â”€â”€ Fire Epics â”€â”€
  volcanic_exception: {
    id: 'volcanic_exception', name: 'Volcanic Exception', type: 'attack', target: 'enemy', cost: 3, rarity: 'epic',
    class: 'backend', archetype: 'fire',
    exhaust: true,
    description: 'Deal 18 damage. Apply 4 Burn. Schedule 25 damage to all enemies and 3 Burn to all next turn. Exhaust. The screenshot your CEO sends to investors.',
    effects: { damage: 18, applyToTarget: { burn: 4 }, queueDamageAll: 25, queueBurn: 3 },
    upgradedEffects: { damage: 24, applyToTarget: { burn: 5 }, queueDamageAll: 32, queueBurn: 4 },
    upgradedDescription: 'Deal 24 damage. Apply 5 Burn. Schedule 32 damage and 4 Burn to all next turn. Exhaust.',
    icon: 'ğŸŒ‹',
  },
  server_meltdown: {
    id: 'server_meltdown', name: 'Server Meltdown', type: 'skill', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'fire',
    exhaust: true,
    description: 'Schedule 52 AoE damage and 4 Burn to all. Fires in 4 turns. Exhaust. 99.9% uptime. The 0.1%: legendary. No immediate effect. Just a promise.',
    effects: { queueDamageAllCharged: 52, queueBurn: 4 },
    upgradedEffects: { queueDamageAllCharged: 73, queueBurn: 5 },
    upgradedDescription: 'Schedule 73 AoE damage and 5 Burn to all. Fires in 4 turns. Exhaust.',
    icon: 'ğŸ’£',
  },
  firestorm_refactor: {
    id: 'firestorm_refactor', name: 'Firestorm Refactor', type: 'attack', target: 'all_enemies', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'fire',
    description: 'Deal 8 damage to ALL enemies. Apply 2 Burn to ALL enemies. Schedule 18 damage to all enemies next turn. The Big Rewrite. Consequences: deferred.',
    effects: { damageAll: 8, applyToAll: { burn: 2 }, queueDamageAll: 18 },
    upgradedEffects: { damageAll: 12, applyToAll: { burn: 3 }, queueDamageAll: 24 },
    upgradedDescription: 'Deal 12 damage to ALL. Apply 3 Burn to ALL. Schedule 24 damage to all enemies next turn.',
    icon: 'ğŸ”¥',
  },

  // â”€â”€ Lightning Epics â”€â”€
  chain_lightning: {
    id: 'chain_lightning', name: 'Chain Lightning', type: 'attack', target: 'enemy', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 8 damage. Schedule 35 chain damage to each enemy. Fires in 4 turns. One request. Seven cascading failures. All mine.',
    effects: { damage: 8, queueChainCharged: 35 },
    upgradedEffects: { damage: 12, queueChainCharged: 49 },
    upgradedDescription: 'Deal 12 damage. Schedule 49 chain damage to each enemy. Fires in 4 turns.',
    icon: 'âš¡',
  },
  surge_discharge: {
    id: 'surge_discharge', name: 'Surge Discharge', type: 'skill', target: 'self', cost: 0, rarity: 'epic',
    class: 'backend', archetype: 'lightning',
    exhaust: true,
    description: 'Schedule 45 chain damage to each enemy. Fires in 3 turns. Exhaust. Free. Scheduled. Uncontrolled. Unintentional. You\'re welcome.',
    effects: { queueChainDelayed: 45 },
    upgradedEffects: { queueChainDelayed: 63 },
    upgradedDescription: 'Schedule 63 chain damage to each enemy. Fires in 3 turns. Exhaust.',
    icon: 'ğŸŒ©ï¸',
  },
  thunderstorm_protocol: {
    id: 'thunderstorm_protocol', name: 'Thunderstorm Protocol', type: 'attack', target: 'enemy', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'lightning',
    description: 'Deal 6 damage. Gain 4 block. Schedule 35 chain damage to each enemy. Fires in 4 turns. Distribute the pain. Retain the armor. Log the rest.',
    effects: { damage: 6, block: 4, queueChainCharged: 35 },
    upgradedEffects: { damage: 9, block: 6, queueChainCharged: 49 },
    upgradedDescription: 'Deal 9 damage. Gain 6 block. Schedule 49 chain damage to each enemy. Fires in 4 turns.',
    icon: 'â›ˆï¸',
  },

  // â”€â”€ Cross-Archetype Epics â”€â”€
  batch_processing: {
    id: 'batch_processing', name: 'Batch Processing', type: 'skill', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend',
    description: 'Schedule 18 block, 18 AoE damage, and 18 chain damage to each enemy. Fires in 3 turns. Three jobs. One batch. All elements. Automatic System Meltdown.',
    effects: { queueBlockDelayed: 18, queueDamageAllDelayed: 18, queueChainDelayed: 18 },
    upgradedEffects: { queueBlockDelayed: 25, queueDamageAllDelayed: 25, queueChainDelayed: 25 },
    upgradedDescription: 'Schedule 25 block, 25 AoE, and 25 chain to each enemy. Fires in 3 turns.',
    icon: 'ğŸ–¥ï¸',
  },
  elemental_convergence: {
    id: 'elemental_convergence', name: 'Elemental Convergence', type: 'skill', target: 'self', cost: 3, rarity: 'epic',
    class: 'backend',
    description: 'Gain 10 block. Schedule 17 block, 17 AoE damage, and 17 chain damage. Fires in 4 turns. Gain 2 Confidence and 2 Resilience. Ice. Fire. Lightning. All three pipelines. Armed.',
    effects: { block: 10, applyToSelf: { confidence: 2, resilience: 2 }, queueBlockCharged: 17, queueDamageAllCharged: 17, queueChainCharged: 17 },
    upgradedEffects: { block: 14, applyToSelf: { confidence: 3, resilience: 3 }, queueBlockCharged: 24, queueDamageAllCharged: 24, queueChainCharged: 24 },
    upgradedDescription: 'Gain 14 block. Schedule 24/24/24. Fires in 4 turns. Gain 3 Confidence and 3 Resilience.',
    icon: 'ğŸŒŸ',
  },

  // â”€â”€ Legendaries â”€â”€
  infinite_loop: {
    id: 'infinite_loop', name: 'Infinite Loop', type: 'skill', target: 'self', cost: 3, rarity: 'legendary',
    class: 'backend', archetype: 'lightning',
    description: 'Schedule 61 chain damage to each enemy. Fires in 4 turns. Draw 3 cards. while(true) { destroy(); } // TODO: add exit condition',
    effects: { queueChainCharged: 61, draw: 3 },
    upgradedEffects: { queueChainCharged: 85, draw: 4 },
    upgradedDescription: 'Schedule 85 chain damage to each enemy. Fires in 4 turns. Draw 4 cards.',
    icon: 'â™¾ï¸',
  },
  production_incident: {
    id: 'production_incident', name: 'Production Incident', type: 'attack', target: 'enemy', cost: 3, rarity: 'legendary',
    class: 'backend', archetype: 'fire',
    exhaust: true,
    description: 'Deal 20 damage. Apply 5 Burn. Schedule 61 AoE damage and 5 Burn to all. Fires in 4 turns. Exhaust. The incident that defines your tenure. In a good way.',
    effects: { damage: 20, applyToTarget: { burn: 5 }, queueDamageAllCharged: 61, queueBurn: 5 },
    upgradedEffects: { damage: 28, applyToTarget: { burn: 6 }, queueDamageAllCharged: 85, queueBurn: 6 },
    upgradedDescription: 'Deal 28 damage. Apply 6 Burn. Schedule 85 AoE + 6 Burn to all. Fires in 4 turns. Exhaust.',
    icon: 'ğŸš’',
  },
  cryo_cascade: {
    id: 'cryo_cascade', name: 'Cryo Cascade', type: 'skill', target: 'self', cost: 3, rarity: 'legendary',
    class: 'backend', archetype: 'ice',
    description: 'Gain 20 block. Gain 8 Savings Account. Apply 2 Vulnerable to ALL enemies. Schedule 70 block. Fires in 4 turns. Total defensive lockdown. The servers are frozen solid.',
    effects: { block: 20, applyToSelf: { savingsAccount: 8 }, applyToAll: { vulnerable: 2 }, queueBlockCharged: 70 },
    upgradedEffects: { block: 26, applyToSelf: { savingsAccount: 10 }, applyToAll: { vulnerable: 3 }, queueBlockCharged: 98 },
    upgradedDescription: 'Gain 26 block. Gain 10 Savings Account. Apply 3 Vulnerable to ALL. Schedule 98 block. Fires in 4 turns.',
    icon: 'ğŸŒ¡ï¸',
  },
  nuclear_deploy: {
    id: 'nuclear_deploy', name: 'Nuclear Deploy', type: 'skill', target: 'self', cost: 2, rarity: 'legendary',
    class: 'backend',
    exhaust: true,
    description: 'Schedule 44 block, 44 AoE damage, and 44 chain damage to each enemy. Fires in 4 turns. Exhaust. All three pipelines. Maximum batch bonus guaranteed. You will survive. Probably.',
    effects: { queueBlockCharged: 44, queueDamageAllCharged: 44, queueChainCharged: 44 },
    upgradedEffects: { queueBlockCharged: 62, queueDamageAllCharged: 62, queueChainCharged: 62 },
    upgradedDescription: 'Schedule 62/62/62. Fires in 4 turns. Exhaust. The full detonation.',
    icon: 'â˜¢ï¸',
  },

  // â”€â”€ New Burn Cards â”€â”€
  fuel_injection: {
    id: 'fuel_injection', name: 'Fuel Injection', type: 'attack', target: 'enemy', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'fire',
    description: 'Deal 8 damage. Double Burn on target. Schedule 38 block. Fires in 3 turns.',
    effects: { damage: 8, doubleBurnOnTarget: true, queueBlockDelayed: 38 },
    upgradedEffects: { damage: 10, tripleBurnOnTarget: true, queueBlockDelayed: 53 },
    upgradedDescription: 'Deal 10 damage. Triple Burn on target. Schedule 53 block. Fires in 3 turns.',
    icon: 'ğŸ”¥',
  },
  backdraft: {
    id: 'backdraft', name: 'Backdraft', type: 'attack', target: 'enemy', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'fire', exhaust: true,
    description: 'Deal damage equal to Burn stacks Ã— 5. Remove Burn. Schedule 45 AoE damage. Fires in 3 turns. Exhaust.',
    effects: { damagePerBurn: 5, consumeBurnOnHit: true, queueDamageAllDelayed: 45 },
    upgradedEffects: { damagePerBurn: 6, consumeBurnOnHit: true, queueDamageAllDelayed: 63 },
    upgradedDescription: 'Deal damage equal to Burn stacks Ã— 6. Remove Burn. Schedule 63 AoE damage. Fires in 3 turns. Exhaust.',
    icon: 'ğŸ’¥',
  },
  thermal_cascade: {
    id: 'thermal_cascade', name: 'Thermal Cascade', type: 'power', target: 'self', cost: 2, rarity: 'epic',
    class: 'backend', archetype: 'fire',
    description: 'Burn ticks deal Ã—2 damage. Schedule 27 AoE damage. Fires in 3 turns.',
    effects: { burnDoTMultiplier: 2, queueDamageAllDelayed: 27 },
    upgradedEffects: { burnDoTMultiplier: 3, queueDamageAllDelayed: 38 },
    upgradedDescription: 'Burn ticks deal Ã—3 damage. Schedule 38 AoE damage. Fires in 3 turns.',
    icon: 'ğŸŒ¡ï¸',
  },
  incendiary_comment: {
    id: 'incendiary_comment', name: 'Incendiary Comment', type: 'skill', target: 'all_enemies', cost: 1, rarity: 'rare',
    class: 'backend', archetype: 'fire',
    description: 'Apply 4 Burn to all enemies.',
    effects: { applyBurnAll: 4 },
    upgradedEffects: { applyBurnAll: 5 },
    upgradedDescription: 'Apply 5 Burn to all enemies.',
    icon: 'ğŸ—£ï¸',
  },

  // â”€â”€ Queue Interaction Cards â”€â”€
  early_patch: {
    id: 'early_patch', name: 'Early Patch', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend',
    description: 'Reduce all queued timers by 1. Hotfix deployed ahead of schedule.',
    effects: { accelerateQueue: 1 },
    upgradedEffects: { accelerateQueue: 2 },
    upgradedDescription: 'Reduce all queued timers by 2.',
    icon: 'â©',
  },

  primed_shot: {
    id: 'primed_shot', name: 'Primed Shot', type: 'attack', target: 'enemy', cost: 1, rarity: 'common',
    class: 'backend',
    description: 'Deal 8 damage. Apply 2 Primed â€” instantly reduces all queue timers by 2.',
    effects: { damage: 8, applyToTarget: { primed: 2 } },
    upgradedEffects: { damage: 12, applyToTarget: { primed: 3 } },
    upgradedDescription: 'Deal 12 damage. Apply 3 Primed (timers -3).',
    icon: 'ğŸ¯',
  },

  hotpath_override: {
    id: 'hotpath_override', name: 'Hotpath Override', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend',
    description: 'All pending queue effects gain +50% power. Profile before you optimize.',
    effects: { amplifyQueue: 50 },
    upgradedEffects: { amplifyQueue: 75 },
    upgradedDescription: 'All pending queue effects gain +75% power.',
    icon: 'ğŸ”¥',
  },

  mark_for_deletion: {
    id: 'mark_for_deletion', name: 'Mark for Deletion', type: 'attack', target: 'all_enemies', cost: 2, rarity: 'rare',
    class: 'backend',
    description: 'Deal 10 damage to all. Apply 2 Primed to all enemies (timers -2).',
    effects: { damageAll: 10, applyToAll: { primed: 2 } },
    upgradedEffects: { damageAll: 14, applyToAll: { primed: 3 } },
    upgradedDescription: 'Deal 14 damage to all. Apply 3 Primed to all enemies (timers -3).',
    icon: 'ğŸ—‘ï¸',
  },

  stack_overflow_card: {
    id: 'stack_overflow_card', name: 'Stack Overflow', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend',
    description: 'Add 15 to the largest pending fire/lightning effect. If none exists, queue fast fire for 15.',
    effects: { stackMatchingQueue: { element: 'fire', amount: 15 } },
    upgradedEffects: { stackMatchingQueue: { element: 'fire', amount: 22 } },
    upgradedDescription: 'Add 22 to the largest pending fire/lightning effect.',
    icon: 'ğŸ“š',
  },

  system_flush: {
    id: 'system_flush', name: 'System Flush', type: 'skill', target: 'self', cost: 3, rarity: 'epic',
    class: 'backend',
    description: 'Fire ALL queued effects immediately at full power with batch bonus. The queue is clear.',
    effects: { detonateNow: true },
    upgradedEffects: { detonateNow: true, block: 10 },
    upgradedDescription: 'Gain 10 block. Fire ALL queued effects immediately at full power.',
    icon: 'ğŸ’¥',
  },

  // â”€â”€ Stress Relief â”€â”€
  graceful_shutdown: {
    id: 'graceful_shutdown', name: 'Graceful Shutdown', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend',
    description: 'Gain 5 block. Reduce 6 Stress. No crashes. No panics. Just a clean exit.',
    effects: { block: 5, copium: 6 },
    upgradedEffects: { block: 8, copium: 9 },
    upgradedDescription: 'Gain 8 block. Reduce 9 Stress.',
    icon: 'ğŸ›‘',
  },
  rollback_plan: {
    id: 'rollback_plan', name: 'Rollback Plan', type: 'skill', target: 'self', cost: 1, rarity: 'common',
    class: 'backend',
    description: 'Gain 4 block. Reduce 8 Stress. Undo the last 3 hours. The commit never happened.',
    effects: { block: 4, copium: 8 },
    upgradedEffects: { block: 7, copium: 12 },
    upgradedDescription: 'Gain 7 block. Reduce 12 Stress.',
    icon: 'âª',
  },
  maintenance_window: {
    id: 'maintenance_window', name: 'Maintenance Window', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend',
    description: 'Gain 8 block. Reduce 10 Stress. Scheduled downtime. Unscheduled calm.',
    effects: { block: 8, copium: 10 },
    upgradedEffects: { block: 13, copium: 16 },
    upgradedDescription: 'Gain 13 block. Reduce 16 Stress.',
    icon: 'ğŸ”§',
  },
  load_balanced: {
    id: 'load_balanced', name: 'Load Balanced', type: 'skill', target: 'self', cost: 2, rarity: 'rare',
    class: 'backend',
    description: 'Reduce 14 Stress. Draw 1 card. Distribute the pain. Keep the calm.',
    effects: { copium: 14, draw: 1 },
    upgradedEffects: { copium: 18, draw: 2 },
    upgradedDescription: 'Reduce 18 Stress. Draw 2 cards.',
    icon: 'âš–ï¸',
  },

  technical_debt: {
    id: 'technical_debt', name: 'Technical Debt', type: 'curse', target: 'self', cost: 0, rarity: 'curse',
    class: 'backend',
    description: 'When drawn, gain 5 Stress. // FIXME: this will be fixed eventually. (It won\'t.)',
    effects: { stress: 5 },
    upgradedEffects: { stress: 3 },
    upgradedDescription: 'When drawn, gain 3 Stress.',
    icon: 'ğŸ’¸',
  },
};
